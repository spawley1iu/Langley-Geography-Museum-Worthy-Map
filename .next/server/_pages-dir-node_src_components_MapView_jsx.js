"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_src_components_MapView_jsx";
exports.ids = ["_pages-dir-node_src_components_MapView_jsx"];
exports.modules = {

/***/ "(pages-dir-node)/./src/components/MapView.jsx":
/*!************************************!*\
  !*** ./src/components/MapView.jsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var ol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ol */ \"ol\");\n/* harmony import */ var ol_layer_Tile__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ol/layer/Tile */ \"(pages-dir-node)/./node_modules/ol/layer/Tile.js\");\n/* harmony import */ var ol_layer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ol/layer */ \"(pages-dir-node)/./node_modules/ol/layer.js\");\n/* harmony import */ var ol_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ol/source */ \"(pages-dir-node)/./node_modules/ol/source.js\");\n/* harmony import */ var ol_source_XYZ__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ol/source/XYZ */ \"(pages-dir-node)/./node_modules/ol/source/XYZ.js\");\n/* harmony import */ var ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ol/format/GeoJSON */ \"(pages-dir-node)/./node_modules/ol/format/GeoJSON.js\");\n/* harmony import */ var ol_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ol/style */ \"(pages-dir-node)/./node_modules/ol/style.js\");\n/* harmony import */ var ol_ol_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ol/ol.css */ \"(pages-dir-node)/./node_modules/ol/ol.css\");\n/* harmony import */ var ol_ol_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ol_ol_css__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([ol__WEBPACK_IMPORTED_MODULE_2__, ol_source__WEBPACK_IMPORTED_MODULE_4__, ol_layer__WEBPACK_IMPORTED_MODULE_5__, ol_style__WEBPACK_IMPORTED_MODULE_7__, ol_layer_Tile__WEBPACK_IMPORTED_MODULE_8__]);\n([ol__WEBPACK_IMPORTED_MODULE_2__, ol_source__WEBPACK_IMPORTED_MODULE_4__, ol_layer__WEBPACK_IMPORTED_MODULE_5__, ol_style__WEBPACK_IMPORTED_MODULE_7__, ol_layer_Tile__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/* __next_internal_client_entry_do_not_use__  auto */ \n\n\n\n\n\n\n\n\n\n// --- Helper & API Functions ---\nconst NATIVE_LAND_API_KEY = \"ekRk3AZoMhflctGvHkHPT\";\nconst callGeminiAPI = async (prompt)=>{\n    const apiKey = \"\"; // Handled by environment\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;\n    const payload = {\n        contents: [\n            {\n                role: \"user\",\n                parts: [\n                    {\n                        text: prompt\n                    }\n                ]\n            }\n        ],\n        generationConfig: {\n            temperature: 0.7,\n            maxOutputTokens: 8192\n        }\n    };\n    try {\n        const response = await fetch(apiUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n        if (!response.ok) throw new Error(`API error: ${response.status}`);\n        const result = await response.json();\n        return result.candidates[0].content.parts[0].text;\n    } catch (error) {\n        console.error(\"Gemini API Error:\", error);\n        return \"Error: Could not contact the AI model. Please check the browser console for details.\";\n    }\n};\nconst fetchNativeLandData = async (lat, lng)=>{\n    const url = `https://native-land.ca/api/index.php?maps=territories&lat=${lat}&lng=${lng}`;\n    try {\n        const response = await fetch(url, {\n            headers: {\n                'Authorization': `Bearer ${NATIVE_LAND_API_KEY}`\n            }\n        });\n        if (!response.ok) return {\n            names: [],\n            features: []\n        };\n        const data = await response.json();\n        const names = Array.isArray(data) ? data.map((t)=>t.properties.Name) : [];\n        const features = Array.isArray(data) ? data : [];\n        return {\n            names,\n            features\n        };\n    } catch (error) {\n        console.error(\"Native Land API Error:\", error);\n        return {\n            names: [],\n            features: []\n        };\n    }\n};\n// --- Child Components ---\nconst GeminiResponseDisplay = ({ title, content, isLoading })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                className: \"text-md font-bold font-title text-amber-300\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-1 p-3 bg-black/30 rounded-md text-sm text-gray-300 leading-relaxed whitespace-pre-wrap h-32 overflow-y-auto\",\n                children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"spinner mx-auto\"\n                }, void 0, false, {\n                    fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                    lineNumber: 52,\n                    columnNumber: 22\n                }, undefined) : content || 'Click a button above to generate.'\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n        lineNumber: 49,\n        columnNumber: 5\n    }, undefined);\nconst TribalPopup = ({ properties })=>{\n    const [story, setStory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loadingState, setLoadingState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        story: false,\n        history: false\n    });\n    if (!properties) return null;\n    const handleGenerateStory = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TribalPopup.useCallback[handleGenerateStory]\": async ()=>{\n            setLoadingState({\n                \"TribalPopup.useCallback[handleGenerateStory]\": (p)=>({\n                        ...p,\n                        story: true\n                    })\n            }[\"TribalPopup.useCallback[handleGenerateStory]\"]);\n            setStory(\"\");\n            const prompt = `Tell me a short, traditional-style story about the ${properties.name} people, focusing on their relationship with the land, a key animal, or a cultural value.`;\n            const result = await callGeminiAPI(prompt);\n            setStory(result);\n            setLoadingState({\n                \"TribalPopup.useCallback[handleGenerateStory]\": (p)=>({\n                        ...p,\n                        story: false\n                    })\n            }[\"TribalPopup.useCallback[handleGenerateStory]\"]);\n        }\n    }[\"TribalPopup.useCallback[handleGenerateStory]\"], [\n        properties.name\n    ]);\n    const handleGenerateHistory = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TribalPopup.useCallback[handleGenerateHistory]\": async ()=>{\n            setLoadingState({\n                \"TribalPopup.useCallback[handleGenerateHistory]\": (p)=>({\n                        ...p,\n                        history: true\n                    })\n            }[\"TribalPopup.useCallback[handleGenerateHistory]\"]);\n            setHistory(\"\");\n            const prompt = `For the ${properties.name} nation, list 3-4 significant historical moments or periods in a bulleted list. Provide a brief one-sentence description for each.`;\n            const result = await callGeminiAPI(prompt);\n            setHistory(result);\n            setLoadingState({\n                \"TribalPopup.useCallback[handleGenerateHistory]\": (p)=>({\n                        ...p,\n                        history: false\n                    })\n            }[\"TribalPopup.useCallback[handleGenerateHistory]\"]);\n        }\n    }[\"TribalPopup.useCallback[handleGenerateHistory]\"], [\n        properties.name\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-1 max-w-sm\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"text-xl font-bold font-title text-white\",\n                children: properties.name\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 80,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm text-gray-400 mb-2\",\n                children: properties.description\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 81,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-gray-700 pt-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleGenerateStory,\n                        disabled: loadingState.story,\n                        className: \"w-full flex items-center justify-center text-center p-2 mb-2 bg-amber-600/50 hover:bg-amber-500/50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                        children: loadingState.story ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"spinner\"\n                        }, void 0, false, {\n                            fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                            lineNumber: 84,\n                            columnNumber: 35\n                        }, undefined) : \"✨ Tell Me a Story\"\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 83,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GeminiResponseDisplay, {\n                        title: \"A Story\",\n                        content: story,\n                        isLoading: loadingState.story\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 86,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleGenerateHistory,\n                        disabled: loadingState.history,\n                        className: \"w-full flex items-center justify-center text-center p-2 mt-4 mb-2 bg-amber-600/50 hover:bg-amber-500/50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                        children: loadingState.history ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"spinner\"\n                        }, void 0, false, {\n                            fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                            lineNumber: 88,\n                            columnNumber: 37\n                        }, undefined) : \"✨ Key Historical Moments\"\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 87,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GeminiResponseDisplay, {\n                        title: \"Key Moments\",\n                        content: history,\n                        isLoading: loadingState.history\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 90,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 82,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n        lineNumber: 79,\n        columnNumber: 7\n    }, undefined);\n};\n// --- The Main MapView Component ---\nconst MapView = ()=>{\n    const mapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const popupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const popupRoot = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [mapInstance, setMapInstance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [popupContent, setPopupContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [popupPosition, setPopupPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const [sidebarOpen, setSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapCenter, setMapCenter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        -98.5,\n        39.8\n    ]);\n    const [landHistory, setLandHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLandHistoryLoading, setIsLandHistoryLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [tribeNames, setTribeNames] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const fuse = new Fuse(tribeNames, {\n        threshold: 0.4\n    });\n    const [layers, setLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [visibleLayers, setVisibleLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        reservations: true,\n        ancestral: true,\n        tribalMarkers: true\n    });\n    // --- Search Logic ---\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapView.useEffect\": ()=>{\n            fetch('/data/tribal-markers-geocoded.geojson').then({\n                \"MapView.useEffect\": (res)=>res.json()\n            }[\"MapView.useEffect\"]).then({\n                \"MapView.useEffect\": (data)=>{\n                    const names = data.features.map({\n                        \"MapView.useEffect.names\": (f)=>f.properties.name\n                    }[\"MapView.useEffect.names\"]).filter(Boolean).sort();\n                    setTribeNames(names);\n                }\n            }[\"MapView.useEffect\"]);\n        }\n    }[\"MapView.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapView.useEffect\": ()=>{\n            if (searchQuery.length > 1) setSearchResults(fuse.search(searchQuery).slice(0, 5));\n            else setSearchResults([]);\n        }\n    }[\"MapView.useEffect\"], [\n        searchQuery,\n        tribeNames\n    ]);\n    const zoomToTribe = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapView.useCallback[zoomToTribe]\": (tribeName)=>{\n            if (!mapInstance || !layers.tribalMarkers) return;\n            const source = layers.tribalMarkers.getSource();\n            const feat = source.getFeatures().find({\n                \"MapView.useCallback[zoomToTribe].feat\": (f)=>f.get('name') === tribeName\n            }[\"MapView.useCallback[zoomToTribe].feat\"]);\n            if (feat) {\n                const coords = feat.getGeometry().getCoordinates();\n                mapInstance.getView().animate({\n                    center: coords,\n                    zoom: 8,\n                    duration: 600\n                });\n                setSidebarOpen(false);\n            }\n        }\n    }[\"MapView.useCallback[zoomToTribe]\"], [\n        layers.tribalMarkers,\n        mapInstance\n    ]);\n    // --- Map Initialization ---\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapView.useEffect\": ()=>{\n            if (!mapRef.current || mapInstance) return;\n            const ancestralSource = new ol_source__WEBPACK_IMPORTED_MODULE_4__.Vector();\n            const newLayers = {\n                reservations: new ol_layer__WEBPACK_IMPORTED_MODULE_5__.Vector({\n                    source: new ol_source__WEBPACK_IMPORTED_MODULE_4__.Vector({\n                        url: '/data/reservations.geojson',\n                        format: new ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_6__[\"default\"]()\n                    }),\n                    style: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Style({\n                        stroke: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Stroke({\n                            color: '#ffc107',\n                            width: 2\n                        }),\n                        fill: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Fill({\n                            color: 'rgba(255, 193, 7, 0.1)'\n                        })\n                    }),\n                    zIndex: 2\n                }),\n                ancestral: new ol_layer__WEBPACK_IMPORTED_MODULE_5__.Vector({\n                    source: ancestralSource,\n                    style: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Style({\n                        fill: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Fill({\n                            color: 'rgba(107, 33, 168, 0.3)'\n                        }),\n                        stroke: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Stroke({\n                            color: 'rgba(192, 132, 252, 0.5)',\n                            width: 1,\n                            lineDash: [\n                                5,\n                                10\n                            ]\n                        })\n                    }),\n                    zIndex: 0\n                }),\n                tribalMarkers: new ol_layer__WEBPACK_IMPORTED_MODULE_5__.Vector({\n                    source: new ol_source__WEBPACK_IMPORTED_MODULE_4__.Vector({\n                        url: '/data/tribal-markers-geocoded.geojson',\n                        format: new ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_6__[\"default\"]()\n                    }),\n                    style: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Style({\n                        image: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Circle({\n                            radius: 5,\n                            fill: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Fill({\n                                color: '#ff6600'\n                            }),\n                            stroke: new ol_style__WEBPACK_IMPORTED_MODULE_7__.Stroke({\n                                color: '#fff',\n                                width: 1.5\n                            })\n                        })\n                    }),\n                    zIndex: 3\n                })\n            };\n            setLayers(newLayers);\n            const popupOverlay = new ol__WEBPACK_IMPORTED_MODULE_2__.Overlay({\n                element: popupRef.current,\n                autoPan: {\n                    animation: {\n                        duration: 250\n                    }\n                }\n            });\n            const map = new ol__WEBPACK_IMPORTED_MODULE_2__.Map({\n                target: mapRef.current,\n                view: new ol__WEBPACK_IMPORTED_MODULE_2__.View({\n                    center: [\n                        -10997148,\n                        4814500\n                    ],\n                    zoom: 4\n                }),\n                layers: [\n                    new ol_layer_Tile__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\n                        source: new ol_source_XYZ__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\n                            url: 'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png'\n                        })\n                    }),\n                    newLayers.reservations,\n                    newLayers.ancestral,\n                    newLayers.tribalMarkers\n                ],\n                overlays: [\n                    popupOverlay\n                ]\n            });\n            setMapInstance(map);\n            return ({\n                \"MapView.useEffect\": ()=>map.setTarget(null)\n            })[\"MapView.useEffect\"];\n        }\n    }[\"MapView.useEffect\"], []);\n    // --- Popup and Event Handling ---\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapView.useEffect\": ()=>{\n            if (!mapInstance || !popupRef.current) return;\n            if (!popupRoot.current) popupRoot.current = ReactDOM.createRoot(popupRef.current);\n            const overlay = mapInstance.getOverlays().getArray()[0];\n            const handleMapClick = {\n                \"MapView.useEffect.handleMapClick\": (e)=>{\n                    let foundFeature = false;\n                    mapInstance.forEachFeatureAtPixel(e.pixel, {\n                        \"MapView.useEffect.handleMapClick\": (feature, layer)=>{\n                            if (foundFeature) return; // Process only the top-most feature\n                            if (layer === layers.tribalMarkers) {\n                                setPopupContent(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TribalPopup, {\n                                    properties: feature.getProperties()\n                                }, void 0, false, {\n                                    fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                    lineNumber: 189,\n                                    columnNumber: 27\n                                }, undefined));\n                                overlay.setPosition(e.coordinate);\n                                foundFeature = true;\n                            }\n                        }\n                    }[\"MapView.useEffect.handleMapClick\"]);\n                    if (!foundFeature) {\n                        setPopupContent(null);\n                        overlay.setPosition(undefined);\n                    }\n                }\n            }[\"MapView.useEffect.handleMapClick\"];\n            mapInstance.on('click', handleMapClick);\n            return ({\n                \"MapView.useEffect\": ()=>mapInstance.un('click', handleMapClick)\n            })[\"MapView.useEffect\"];\n        }\n    }[\"MapView.useEffect\"], [\n        mapInstance,\n        layers\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapView.useEffect\": ()=>{\n            if (popupRoot.current) {\n                popupRoot.current.render(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-1 bg-[#1a1a1a]/80 backdrop-blur-sm border border-gray-700 rounded-lg shadow-lg\",\n                    children: popupContent\n                }, void 0, false, {\n                    fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                    lineNumber: 206,\n                    columnNumber: 32\n                }, undefined));\n            }\n        }\n    }[\"MapView.useEffect\"], [\n        popupContent\n    ]);\n    // --- Dynamic Layer Logic ---\n    const updateAncestralLands = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapView.useCallback[updateAncestralLands]\": ()=>{\n            if (!mapInstance || !layers.ancestral) return;\n            const extent = mapInstance.getView().calculateExtent(mapInstance.getSize());\n            const [minLon, minLat, maxLon, maxLat] = ol.proj.transformExtent(extent, 'EPSG:3857', 'EPSG:4326');\n            const bbox = `${minLon},${minLat},${maxLon},${maxLat}`;\n            const url = `https://native-land.ca/api/index.php?maps=territories&bbox=${bbox}`;\n            fetch(url, {\n                headers: {\n                    'Authorization': `Bearer ${NATIVE_LAND_API_KEY}`\n                }\n            }).then({\n                \"MapView.useCallback[updateAncestralLands]\": (res)=>res.ok ? res.json() : Promise.resolve([])\n            }[\"MapView.useCallback[updateAncestralLands]\"]).then({\n                \"MapView.useCallback[updateAncestralLands]\": (data)=>{\n                    if (Array.isArray(data)) {\n                        const features = new ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n                            featureProjection: 'EPSG:3857'\n                        }).readFeatures({\n                            type: 'FeatureCollection',\n                            features: data\n                        });\n                        layers.ancestral.getSource().clear();\n                        layers.ancestral.getSource().addFeatures(features);\n                    }\n                }\n            }[\"MapView.useCallback[updateAncestralLands]\"]).catch({\n                \"MapView.useCallback[updateAncestralLands]\": (e)=>console.error(\"Could not fetch ancestral lands:\", e)\n            }[\"MapView.useCallback[updateAncestralLands]\"]);\n        }\n    }[\"MapView.useCallback[updateAncestralLands]\"], [\n        mapInstance,\n        layers.ancestral\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapView.useEffect\": ()=>{\n            if (!mapInstance) return;\n            mapInstance.on('moveend', {\n                \"MapView.useEffect\": ()=>{\n                    setMapCenter(ol.proj.toLonLat(mapInstance.getView().getCenter()));\n                    if (layers.ancestral && layers.ancestral.getVisible()) {\n                        updateAncestralLands();\n                    }\n                }\n            }[\"MapView.useEffect\"]);\n        }\n    }[\"MapView.useEffect\"], [\n        mapInstance,\n        layers.ancestral,\n        updateAncestralLands\n    ]);\n    // --- Layer Visibility Control ---\n    const toggleLayerVisibility = (layerKey)=>{\n        setVisibleLayers((prev)=>{\n            const newVisibility = {\n                ...prev,\n                [layerKey]: !prev[layerKey]\n            };\n            if (layers[layerKey]) {\n                layers[layerKey].setVisible(newVisibility[layerKey]);\n                // Special case to load ancestral data if it's turned on\n                if (layerKey === 'ancestral' && newVisibility[layerKey]) {\n                    updateAncestralLands();\n                }\n            }\n            return newVisibility;\n        });\n    };\n    // --- Gemini AI Handler ---\n    const handleAskAboutLand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapView.useCallback[handleAskAboutLand]\": async ()=>{\n            setIsLandHistoryLoading(true);\n            setLandHistory(\"\");\n            const [lon, lat] = mapCenter;\n            const territoryNames = await fetchNativeLandData(lat, lon);\n            let territoryInfo = territoryNames.length > 0 ? ` This area is within or near the ancestral territories of the ${territoryNames.join(\", \")}.` : \"\";\n            const prompt = `For the geographic coordinates ${lat.toFixed(4)}, ${lon.toFixed(4)} in the USA, provide a brief summary of the Indigenous history of this specific area.${territoryInfo} Mention primary historical tribes, significant treaties or events, and any contemporary recognized nations associated with this land. Keep it concise for a museum exhibit.`;\n            const result = await callGeminiAPI(prompt);\n            setLandHistory(result);\n            setIsLandHistoryLoading(false);\n        }\n    }[\"MapView.useCallback[handleAskAboutLand]\"], [\n        mapCenter\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-screen h-screen bg-[#1A1A1A] text-gray-200\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: mapContainerRef,\n                className: \"w-full h-full\"\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 267,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: popupRef\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 268,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>setSidebarOpen(true),\n                className: `fixed top-4 left-4 z-[1001] p-2 bg-black/50 rounded-md hover:bg-gray-800 transition-transform duration-300 ${sidebarOpen ? 'translate-x-[20rem]' : 'translate-x-0'}`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-6 h-6 text-white\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: \"2\",\n                        d: \"M4 6h16M4 12h16M4 18h16\"\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 271,\n                        columnNumber: 101\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                    lineNumber: 271,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 270,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `fixed top-0 left-0 h-full w-80 bg-black/70 backdrop-blur-md border-r border-gray-700 z-[1000] p-4 transition-transform duration-300 ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'} flex flex-col`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-3xl font-title text-white mb-4\",\n                        children: \"Explore the Map\"\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 275,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"tribe-search\",\n                                className: \"block text-sm font-medium text-gray-400 mb-1\",\n                                children: \"Search Federally Recognized Tribes\"\n                            }, void 0, false, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 277,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: searchQuery,\n                                onChange: (e)=>setSearchQuery(e.target.value),\n                                className: \"w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-yellow-500\",\n                                placeholder: \"e.g., Cherokee, Navajo...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 278,\n                                columnNumber: 13\n                            }, undefined),\n                            searchResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute z-20 w-full bg-gray-800 border border-gray-600 rounded-md mt-1 max-h-60 overflow-y-auto\",\n                                children: searchResults.map((result)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>{\n                                            zoomToTribe(result.item);\n                                            setSearchQuery('');\n                                        },\n                                        className: \"p-2 cursor-pointer hover:bg-gray-700\",\n                                        children: result.item\n                                    }, result.item, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 160\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 280,\n                                columnNumber: 17\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 276,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-2xl font-title text-white mt-6 mb-3\",\n                        children: \"Data Layers\"\n                    }, void 0, false, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 283,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"flex items-center space-x-2 cursor-pointer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: visibleLayers.reservations,\n                                        onChange: ()=>toggleLayerVisibility('reservations'),\n                                        className: \"h-5 w-5 rounded bg-gray-700 border-gray-500 custom-checkbox\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 75\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Reservations\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 263\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"flex items-center space-x-2 cursor-pointer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: visibleLayers.ancestral,\n                                        onChange: ()=>toggleLayerVisibility('ancestral'),\n                                        className: \"h-5 w-5 rounded bg-gray-700 border-gray-500 custom-checkbox\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 75\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Ancestral Lands\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 257\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 286,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"flex items-center space-x-2 cursor-pointer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: visibleLayers.tribalMarkers,\n                                        onChange: ()=>toggleLayerVisibility('tribalMarkers'),\n                                        className: \"h-5 w-5 rounded bg-gray-700 border-gray-500 custom-checkbox\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 287,\n                                        columnNumber: 75\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Tribal Markers\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 287,\n                                        columnNumber: 265\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 287,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 284,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-auto pt-4 border-t border-gray-700\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleAskAboutLand,\n                                disabled: isLandHistoryLoading,\n                                className: \"w-full flex items-center justify-center text-center p-2 mb-2 bg-yellow-600/50 hover:bg-yellow-500/50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `btn-text ${isLandHistoryLoading ? 'hidden' : ''}`,\n                                        children: \"✨ Ask About This Land\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `spinner ${!isLandHistoryLoading && 'hidden'}`\n                                    }, void 0, false, {\n                                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 290,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GeminiResponseDisplay, {\n                                title: \"Land History\",\n                                content: landHistory,\n                                isLoading: isLandHistoryLoading\n                            }, void 0, false, {\n                                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                                lineNumber: 294,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                        lineNumber: 289,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 274,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TribeModal, {\n                tribeName: selectedTribe,\n                open: !!selectedTribe,\n                handleClose: ()=>setSelectedTribe(null)\n            }, void 0, false, {\n                fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n                lineNumber: 298,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/stewartpawley/Library/CloudStorage/OneDrive-KCTCS/Geography/Interactive Map/Museum Map/Langley-Geography-Museum-Worthy-Map/src/components/MapView.jsx\",\n        lineNumber: 266,\n        columnNumber: 7\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb21wb25lbnRzL01hcFZpZXcuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV3RTtBQUNoQztBQUNGO0FBQ1c7QUFDRTtBQUNuQjtBQUNRO0FBQzhCO0FBQ25EO0FBRW5CLGlDQUFpQztBQUNqQyxNQUFNbUIsc0JBQXNCO0FBRTVCLE1BQU1DLGdCQUFnQixPQUFPQztJQUMzQixNQUFNQyxTQUFTLElBQUkseUJBQXlCO0lBQzVDLE1BQU1DLFNBQVMsQ0FBQyw2RkFBNkYsRUFBRUQsUUFBUTtJQUN2SCxNQUFNRSxVQUFVO1FBQUVDLFVBQVU7WUFBQztnQkFBRUMsTUFBTTtnQkFBUUMsT0FBTztvQkFBQzt3QkFBRUMsTUFBTVA7b0JBQU87aUJBQUU7WUFBQztTQUFFO1FBQUVRLGtCQUFrQjtZQUFFQyxhQUFhO1lBQUtDLGlCQUFpQjtRQUFLO0lBQUU7SUFDekksSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTUMsTUFBTVYsUUFBUTtZQUFFVyxRQUFRO1lBQVFDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1lBQUdDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ2Q7UUFBUztRQUN0SSxJQUFJLENBQUNRLFNBQVNPLEVBQUUsRUFBRSxNQUFNLElBQUlDLE1BQU0sQ0FBQyxXQUFXLEVBQUVSLFNBQVNTLE1BQU0sRUFBRTtRQUNqRSxNQUFNQyxTQUFTLE1BQU1WLFNBQVNXLElBQUk7UUFDbEMsT0FBT0QsT0FBT0UsVUFBVSxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDbEIsS0FBSyxDQUFDLEVBQUUsQ0FBQ0MsSUFBSTtJQUNuRCxFQUFFLE9BQU9rQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxxQkFBcUJBO1FBQ25DLE9BQU87SUFDVDtBQUNGO0FBRUEsTUFBTUUsc0JBQXNCLE9BQU9DLEtBQUtDO0lBQ3RDLE1BQU1DLE1BQU0sQ0FBQywwREFBMEQsRUFBRUYsSUFBSSxLQUFLLEVBQUVDLEtBQUs7SUFDekYsSUFB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QUFhbkMsV0FBV3FDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBSWpGLDhEQUFDdUk7Z0JBQVczRyxXQUFXNEc7Z0JBQWVDLE1BQU0sQ0FBQyxDQUFDRDtnQkFBZUUsYUFBYSxJQUFNQyxpQkFBaUI7Ozs7Ozs7Ozs7OztBQUd6RyIsInNvdXJjZXMiOlsiL1VzZXJzL3N0ZXdhcnRwYXdsZXkvTGlicmFyeS9DbG91ZFN0b3JhZ2UvT25lRHJpdmUtS0NUQ1MvR2VvZ3JhcGh5L0ludGVyYWN0aXZlIE1hcC9NdXNldW0gTWFwL0xhbmdsZXktR2VvZ3JhcGh5LU11c2V1bS1Xb3J0aHktTWFwL3NyYy9jb21wb25lbnRzL01hcFZpZXcuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNYXAsIFZpZXcsIE92ZXJsYXkgfSBmcm9tICdvbCc7XG5pbXBvcnQgVGlsZUxheWVyIGZyb20gJ29sL2xheWVyL1RpbGUnO1xuaW1wb3J0IHsgVmVjdG9yIGFzIFZlY3RvckxheWVyIH0gZnJvbSAnb2wvbGF5ZXInO1xuaW1wb3J0IHsgVmVjdG9yIGFzIFZlY3RvclNvdXJjZSB9IGZyb20gJ29sL3NvdXJjZSc7XG5pbXBvcnQgWFlaIGZyb20gJ29sL3NvdXJjZS9YWVonO1xuaW1wb3J0IEdlb0pTT04gZnJvbSAnb2wvZm9ybWF0L0dlb0pTT04nO1xuaW1wb3J0IHsgU3R5bGUsIENpcmNsZSBhcyBDaXJjbGVTdHlsZSwgRmlsbCwgU3Ryb2tlIH0gZnJvbSAnb2wvc3R5bGUnO1xuaW1wb3J0ICdvbC9vbC5jc3MnO1xuXG4vLyAtLS0gSGVscGVyICYgQVBJIEZ1bmN0aW9ucyAtLS1cbmNvbnN0IE5BVElWRV9MQU5EX0FQSV9LRVkgPSBcImVrUmszQVpvTWhmbGN0R3ZIa0hQVFwiO1xuXG5jb25zdCBjYWxsR2VtaW5pQVBJID0gYXN5bmMgKHByb21wdCkgPT4ge1xuICBjb25zdCBhcGlLZXkgPSBcIlwiOyAvLyBIYW5kbGVkIGJ5IGVudmlyb25tZW50XG4gIGNvbnN0IGFwaVVybCA9IGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0yLjAtZmxhc2g6Z2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gO1xuICBjb25zdCBwYXlsb2FkID0geyBjb250ZW50czogW3sgcm9sZTogXCJ1c2VyXCIsIHBhcnRzOiBbeyB0ZXh0OiBwcm9tcHQgfV0gfV0sIGdlbmVyYXRpb25Db25maWc6IHsgdGVtcGVyYXR1cmU6IDAuNywgbWF4T3V0cHV0VG9rZW5zOiA4MTkyIH0gfTtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwgeyBtZXRob2Q6ICdQT1NUJywgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiR2VtaW5pIEFQSSBFcnJvcjpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBcIkVycm9yOiBDb3VsZCBub3QgY29udGFjdCB0aGUgQUkgbW9kZWwuIFBsZWFzZSBjaGVjayB0aGUgYnJvd3NlciBjb25zb2xlIGZvciBkZXRhaWxzLlwiO1xuICB9XG59O1xuXG5jb25zdCBmZXRjaE5hdGl2ZUxhbmREYXRhID0gYXN5bmMgKGxhdCwgbG5nKSA9PiB7XG4gIGNvbnN0IHVybCA9IGBodHRwczovL25hdGl2ZS1sYW5kLmNhL2FwaS9pbmRleC5waHA/bWFwcz10ZXJyaXRvcmllcyZsYXQ9JHtsYXR9JmxuZz0ke2xuZ31gO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7TkFUSVZFX0xBTkRfQVBJX0tFWX1gIH0gfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuIHsgbmFtZXM6IFtdLCBmZWF0dXJlczogW10gfTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IG5hbWVzID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEubWFwKHQgPT4gdC5wcm9wZXJ0aWVzLk5hbWUpIDogW107XG4gICAgY29uc3QgZmVhdHVyZXMgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdO1xuICAgIHJldHVybiB7IG5hbWVzLCBmZWF0dXJlcyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJOYXRpdmUgTGFuZCBBUEkgRXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBuYW1lczogW10sIGZlYXR1cmVzOiBbXSB9O1xuICB9XG59O1xuXG5cbi8vIC0tLSBDaGlsZCBDb21wb25lbnRzIC0tLVxuY29uc3QgR2VtaW5pUmVzcG9uc2VEaXNwbGF5ID0gKHsgdGl0bGUsIGNvbnRlbnQsIGlzTG9hZGluZyB9KSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1tZCBmb250LWJvbGQgZm9udC10aXRsZSB0ZXh0LWFtYmVyLTMwMFwiPnt0aXRsZX08L2g0PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHAtMyBiZy1ibGFjay8zMCByb3VuZGVkLW1kIHRleHQtc20gdGV4dC1ncmF5LTMwMCBsZWFkaW5nLXJlbGF4ZWQgd2hpdGVzcGFjZS1wcmUtd3JhcCBoLTMyIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICB7aXNMb2FkaW5nID8gPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyIG14LWF1dG9cIj48L2Rpdj4gOiAoY29udGVudCB8fCAnQ2xpY2sgYSBidXR0b24gYWJvdmUgdG8gZ2VuZXJhdGUuJyl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbik7XG5cbmNvbnN0IFRyaWJhbFBvcHVwID0gKHsgcHJvcGVydGllcyB9KSA9PiB7XG4gIGNvbnN0IFtzdG9yeSwgc2V0U3RvcnldID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbG9hZGluZ1N0YXRlLCBzZXRMb2FkaW5nU3RhdGVdID0gdXNlU3RhdGUoeyBzdG9yeTogZmFsc2UsIGhpc3Rvcnk6IGZhbHNlIH0pO1xuXG4gIGlmICghcHJvcGVydGllcykgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVTdG9yeSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nU3RhdGUocCA9PiAoey4uLnAsIHN0b3J5OiB0cnVlfSkpOyBzZXRTdG9yeShcIlwiKTtcbiAgICBjb25zdCBwcm9tcHQgPSBgVGVsbCBtZSBhIHNob3J0LCB0cmFkaXRpb25hbC1zdHlsZSBzdG9yeSBhYm91dCB0aGUgJHtwcm9wZXJ0aWVzLm5hbWV9IHBlb3BsZSwgZm9jdXNpbmcgb24gdGhlaXIgcmVsYXRpb25zaGlwIHdpdGggdGhlIGxhbmQsIGEga2V5IGFuaW1hbCwgb3IgYSBjdWx0dXJhbCB2YWx1ZS5gO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGxHZW1pbmlBUEkocHJvbXB0KTtcbiAgICBzZXRTdG9yeShyZXN1bHQpOyBzZXRMb2FkaW5nU3RhdGUocCA9PiAoey4uLnAsIHN0b3J5OiBmYWxzZX0pKTtcbiAgfSwgW3Byb3BlcnRpZXMubmFtZV0pO1xuXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlSGlzdG9yeSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nU3RhdGUocCA9PiAoey4uLnAsIGhpc3Rvcnk6IHRydWV9KSk7IHNldEhpc3RvcnkoXCJcIik7XG4gICAgY29uc3QgcHJvbXB0ID0gYEZvciB0aGUgJHtwcm9wZXJ0aWVzLm5hbWV9IG5hdGlvbiwgbGlzdCAzLTQgc2lnbmlmaWNhbnQgaGlzdG9yaWNhbCBtb21lbnRzIG9yIHBlcmlvZHMgaW4gYSBidWxsZXRlZCBsaXN0LiBQcm92aWRlIGEgYnJpZWYgb25lLXNlbnRlbmNlIGRlc2NyaXB0aW9uIGZvciBlYWNoLmA7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbEdlbWluaUFQSShwcm9tcHQpO1xuICAgIHNldEhpc3RvcnkocmVzdWx0KTsgc2V0TG9hZGluZ1N0YXRlKHAgPT4gKHsuLi5wLCBoaXN0b3J5OiBmYWxzZX0pKTtcbiAgfSwgW3Byb3BlcnRpZXMubmFtZV0pO1xuXG4gIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMSBtYXgtdy1zbVwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgZm9udC10aXRsZSB0ZXh0LXdoaXRlXCI+e3Byb3BlcnRpZXMubmFtZX08L2gzPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgbWItMlwiPntwcm9wZXJ0aWVzLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS03MDAgcHQtMlwiPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlR2VuZXJhdGVTdG9yeX0gZGlzYWJsZWQ9e2xvYWRpbmdTdGF0ZS5zdG9yeX0gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtY2VudGVyIHAtMiBtYi0yIGJnLWFtYmVyLTYwMC81MCBob3ZlcjpiZy1hbWJlci01MDAvNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiPlxuICAgICAgICAgICAge2xvYWRpbmdTdGF0ZS5zdG9yeSA/IDxkaXYgY2xhc3NOYW1lPVwic3Bpbm5lclwiPjwvZGl2PiA6IFwi4pyoIFRlbGwgTWUgYSBTdG9yeVwifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxHZW1pbmlSZXNwb25zZURpc3BsYXkgdGl0bGU9XCJBIFN0b3J5XCIgY29udGVudD17c3Rvcnl9IGlzTG9hZGluZz17bG9hZGluZ1N0YXRlLnN0b3J5fSAvPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlR2VuZXJhdGVIaXN0b3J5fSBkaXNhYmxlZD17bG9hZGluZ1N0YXRlLmhpc3Rvcnl9IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlciBwLTIgbXQtNCBtYi0yIGJnLWFtYmVyLTYwMC81MCBob3ZlcjpiZy1hbWJlci01MDAvNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiPlxuICAgICAgICAgICAge2xvYWRpbmdTdGF0ZS5oaXN0b3J5ID8gPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyXCI+PC9kaXY+IDogXCLinKggS2V5IEhpc3RvcmljYWwgTW9tZW50c1wifVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxHZW1pbmlSZXNwb25zZURpc3BsYXkgdGl0bGU9XCJLZXkgTW9tZW50c1wiIGNvbnRlbnQ9e2hpc3Rvcnl9IGlzTG9hZGluZz17bG9hZGluZ1N0YXRlLmhpc3Rvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICk7XG59O1xuXG5cbi8vIC0tLSBUaGUgTWFpbiBNYXBWaWV3IENvbXBvbmVudCAtLS1cbmNvbnN0IE1hcFZpZXcgPSAoKSA9PiB7XG4gIGNvbnN0IG1hcFJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBwb3B1cFJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBwb3B1cFJvb3QgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFttYXBJbnN0YW5jZSwgc2V0TWFwSW5zdGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtwb3B1cENvbnRlbnQsIHNldFBvcHVwQ29udGVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3BvcHVwUG9zaXRpb24sIHNldFBvcHVwUG9zaXRpb25dID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcblxuICBjb25zdCBbc2lkZWJhck9wZW4sIHNldFNpZGViYXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21hcENlbnRlciwgc2V0TWFwQ2VudGVyXSA9IHVzZVN0YXRlKFstOTguNSwgMzkuOF0pO1xuICBjb25zdCBbbGFuZEhpc3RvcnksIHNldExhbmRIaXN0b3J5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNMYW5kSGlzdG9yeUxvYWRpbmcsIHNldElzTGFuZEhpc3RvcnlMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbdHJpYmVOYW1lcywgc2V0VHJpYmVOYW1lc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IGZ1c2UgPSBuZXcgRnVzZSh0cmliZU5hbWVzLCB7IHRocmVzaG9sZDogMC40IH0pO1xuICBjb25zdCBbbGF5ZXJzLCBzZXRMYXllcnNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbdmlzaWJsZUxheWVycywgc2V0VmlzaWJsZUxheWVyc10gPSB1c2VTdGF0ZSh7XG4gICAgcmVzZXJ2YXRpb25zOiB0cnVlLFxuICAgIGFuY2VzdHJhbDogdHJ1ZSxcbiAgICB0cmliYWxNYXJrZXJzOiB0cnVlXG4gIH0pO1xuXG4gIC8vIC0tLSBTZWFyY2ggTG9naWMgLS0tXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goJy9kYXRhL3RyaWJhbC1tYXJrZXJzLWdlb2NvZGVkLmdlb2pzb24nKVxuICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgY29uc3QgbmFtZXMgPSBkYXRhLmZlYXR1cmVzLm1hcChmID0+IGYucHJvcGVydGllcy5uYW1lKS5maWx0ZXIoQm9vbGVhbikuc29ydCgpO1xuICAgICAgICAgIHNldFRyaWJlTmFtZXMobmFtZXMpO1xuICAgICAgICB9KTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlYXJjaFF1ZXJ5Lmxlbmd0aCA+IDEpIHNldFNlYXJjaFJlc3VsdHMoZnVzZS5zZWFyY2goc2VhcmNoUXVlcnkpLnNsaWNlKDAsIDUpKTtcbiAgICBlbHNlIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICB9LCBbc2VhcmNoUXVlcnksIHRyaWJlTmFtZXNdKTtcblxuICBjb25zdCB6b29tVG9UcmliZSA9IHVzZUNhbGxiYWNrKCh0cmliZU5hbWUpID0+IHtcbiAgICBpZiAoIW1hcEluc3RhbmNlIHx8ICFsYXllcnMudHJpYmFsTWFya2VycykgcmV0dXJuO1xuICAgIGNvbnN0IHNvdXJjZSA9IGxheWVycy50cmliYWxNYXJrZXJzLmdldFNvdXJjZSgpO1xuICAgIGNvbnN0IGZlYXQgPSBzb3VyY2UuZ2V0RmVhdHVyZXMoKS5maW5kKGYgPT4gZi5nZXQoJ25hbWUnKSA9PT0gdHJpYmVOYW1lKTtcbiAgICBpZiAoZmVhdCkge1xuICAgICAgY29uc3QgY29vcmRzID0gZmVhdC5nZXRHZW9tZXRyeSgpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBtYXBJbnN0YW5jZS5nZXRWaWV3KCkuYW5pbWF0ZSh7IGNlbnRlcjogY29vcmRzLCB6b29tOiA4LCBkdXJhdGlvbjogNjAwIH0pO1xuICAgICAgc2V0U2lkZWJhck9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfSwgW2xheWVycy50cmliYWxNYXJrZXJzLCBtYXBJbnN0YW5jZV0pO1xuXG4gIC8vIC0tLSBNYXAgSW5pdGlhbGl6YXRpb24gLS0tXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXBSZWYuY3VycmVudCB8fCBtYXBJbnN0YW5jZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgYW5jZXN0cmFsU291cmNlID0gbmV3IFZlY3RvclNvdXJjZSgpO1xuICAgIGNvbnN0IG5ld0xheWVycyA9IHtcbiAgICAgIHJlc2VydmF0aW9uczogbmV3IFZlY3RvckxheWVyKHsgc291cmNlOiBuZXcgVmVjdG9yU291cmNlKHsgdXJsOiAnL2RhdGEvcmVzZXJ2YXRpb25zLmdlb2pzb24nLCBmb3JtYXQ6IG5ldyBHZW9KU09OKCkgfSksIHN0eWxlOiBuZXcgU3R5bGUoeyBzdHJva2U6IG5ldyBTdHJva2UoeyBjb2xvcjogJyNmZmMxMDcnLCB3aWR0aDogMiB9KSwgZmlsbDogbmV3IEZpbGwoeyBjb2xvcjogJ3JnYmEoMjU1LCAxOTMsIDcsIDAuMSknIH0pIH0pLCB6SW5kZXg6IDIgfSksXG4gICAgICBhbmNlc3RyYWw6IG5ldyBWZWN0b3JMYXllcih7IHNvdXJjZTogYW5jZXN0cmFsU291cmNlLCBzdHlsZTogbmV3IFN0eWxlKHsgZmlsbDogbmV3IEZpbGwoeyBjb2xvcjogJ3JnYmEoMTA3LCAzMywgMTY4LCAwLjMpJyB9KSwgc3Ryb2tlOiBuZXcgU3Ryb2tlKHsgY29sb3I6ICdyZ2JhKDE5MiwgMTMyLCAyNTIsIDAuNSknLCB3aWR0aDogMSwgbGluZURhc2g6IFs1LCAxMF0gfSkgfSksIHpJbmRleDogMCB9KSxcbiAgICAgIHRyaWJhbE1hcmtlcnM6IG5ldyBWZWN0b3JMYXllcih7IHNvdXJjZTogbmV3IFZlY3RvclNvdXJjZSh7IHVybDogJy9kYXRhL3RyaWJhbC1tYXJrZXJzLWdlb2NvZGVkLmdlb2pzb24nLCBmb3JtYXQ6IG5ldyBHZW9KU09OKCkgfSksIHN0eWxlOiBuZXcgU3R5bGUoeyBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHsgcmFkaXVzOiA1LCBmaWxsOiBuZXcgRmlsbCh7IGNvbG9yOiAnI2ZmNjYwMCcgfSksIHN0cm9rZTogbmV3IFN0cm9rZSh7IGNvbG9yOiAnI2ZmZicsIHdpZHRoOiAxLjUgfSkgfSkgfSksIHpJbmRleDogMyB9KVxuICAgIH07XG4gICAgc2V0TGF5ZXJzKG5ld0xheWVycyk7XG5cbiAgICBjb25zdCBwb3B1cE92ZXJsYXkgPSBuZXcgT3ZlcmxheSh7IGVsZW1lbnQ6IHBvcHVwUmVmLmN1cnJlbnQsIGF1dG9QYW46IHsgYW5pbWF0aW9uOiB7IGR1cmF0aW9uOiAyNTAgfSB9IH0pO1xuXG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCh7XG4gICAgICB0YXJnZXQ6IG1hcFJlZi5jdXJyZW50LFxuICAgICAgdmlldzogbmV3IFZpZXcoeyBjZW50ZXI6IFstMTA5OTcxNDgsIDQ4MTQ1MDBdLCB6b29tOiA0IH0pLFxuICAgICAgbGF5ZXJzOiBbXG4gICAgICAgIG5ldyBUaWxlTGF5ZXIoeyBzb3VyY2U6IG5ldyBYWVooeyB1cmw6ICdodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vZGFya19hbGwve3p9L3t4fS97eX17cn0ucG5nJyB9KSB9KSxcbiAgICAgICAgbmV3TGF5ZXJzLnJlc2VydmF0aW9ucyxcbiAgICAgICAgbmV3TGF5ZXJzLmFuY2VzdHJhbCxcbiAgICAgICAgbmV3TGF5ZXJzLnRyaWJhbE1hcmtlcnNcbiAgICAgIF0sXG4gICAgICBvdmVybGF5czogW3BvcHVwT3ZlcmxheV1cbiAgICB9KTtcblxuICAgIHNldE1hcEluc3RhbmNlKG1hcCk7XG5cbiAgICByZXR1cm4gKCkgPT4gbWFwLnNldFRhcmdldChudWxsKTtcbiAgfSwgW10pO1xuXG4gIC8vIC0tLSBQb3B1cCBhbmQgRXZlbnQgSGFuZGxpbmcgLS0tXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXBJbnN0YW5jZSB8fCAhcG9wdXBSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGlmICghcG9wdXBSb290LmN1cnJlbnQpIHBvcHVwUm9vdC5jdXJyZW50ID0gUmVhY3RET00uY3JlYXRlUm9vdChwb3B1cFJlZi5jdXJyZW50KTtcbiAgICBjb25zdCBvdmVybGF5ID0gbWFwSW5zdGFuY2UuZ2V0T3ZlcmxheXMoKS5nZXRBcnJheSgpWzBdO1xuXG4gICAgY29uc3QgaGFuZGxlTWFwQ2xpY2sgPSAoZSkgPT4ge1xuICAgICAgbGV0IGZvdW5kRmVhdHVyZSA9IGZhbHNlO1xuICAgICAgbWFwSW5zdGFuY2UuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKGUucGl4ZWwsIChmZWF0dXJlLCBsYXllcikgPT4ge1xuICAgICAgICBpZiAoZm91bmRGZWF0dXJlKSByZXR1cm47IC8vIFByb2Nlc3Mgb25seSB0aGUgdG9wLW1vc3QgZmVhdHVyZVxuICAgICAgICBpZiAobGF5ZXIgPT09IGxheWVycy50cmliYWxNYXJrZXJzKSB7XG4gICAgICAgICAgc2V0UG9wdXBDb250ZW50KDxUcmliYWxQb3B1cCBwcm9wZXJ0aWVzPXtmZWF0dXJlLmdldFByb3BlcnRpZXMoKX0gLz4pO1xuICAgICAgICAgIG92ZXJsYXkuc2V0UG9zaXRpb24oZS5jb29yZGluYXRlKTtcbiAgICAgICAgICBmb3VuZEZlYXR1cmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghZm91bmRGZWF0dXJlKSB7XG4gICAgICAgIHNldFBvcHVwQ29udGVudChudWxsKTtcbiAgICAgICAgb3ZlcmxheS5zZXRQb3NpdGlvbih1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBtYXBJbnN0YW5jZS5vbignY2xpY2snLCBoYW5kbGVNYXBDbGljayk7XG4gICAgcmV0dXJuICgpID0+IG1hcEluc3RhbmNlLnVuKCdjbGljaycsIGhhbmRsZU1hcENsaWNrKTtcbiAgfSwgW21hcEluc3RhbmNlLCBsYXllcnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwb3B1cFJvb3QuY3VycmVudCkge1xuICAgICAgcG9wdXBSb290LmN1cnJlbnQucmVuZGVyKDxkaXYgY2xhc3NOYW1lPVwicC0xIGJnLVsjMWExYTFhXS84MCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbGdcIj57cG9wdXBDb250ZW50fTwvZGl2Pik7XG4gICAgfVxuICB9LCBbcG9wdXBDb250ZW50XSk7XG5cbiAgLy8gLS0tIER5bmFtaWMgTGF5ZXIgTG9naWMgLS0tXG4gIGNvbnN0IHVwZGF0ZUFuY2VzdHJhbExhbmRzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbWFwSW5zdGFuY2UgfHwgIWxheWVycy5hbmNlc3RyYWwpIHJldHVybjtcbiAgICBjb25zdCBleHRlbnQgPSBtYXBJbnN0YW5jZS5nZXRWaWV3KCkuY2FsY3VsYXRlRXh0ZW50KG1hcEluc3RhbmNlLmdldFNpemUoKSk7XG4gICAgY29uc3QgW21pbkxvbiwgbWluTGF0LCBtYXhMb24sIG1heExhdF0gPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChleHRlbnQsICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XG4gICAgY29uc3QgYmJveCA9IGAke21pbkxvbn0sJHttaW5MYXR9LCR7bWF4TG9ufSwke21heExhdH1gO1xuICAgIGNvbnN0IHVybCA9IGBodHRwczovL25hdGl2ZS1sYW5kLmNhL2FwaS9pbmRleC5waHA/bWFwcz10ZXJyaXRvcmllcyZiYm94PSR7YmJveH1gO1xuXG4gICAgZmV0Y2godXJsLCB7IGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7TkFUSVZFX0xBTkRfQVBJX0tFWX1gIH0gfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlc29sdmUoW10pKVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBuZXcgR2VvSlNPTih7IGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3JyB9KS5yZWFkRmVhdHVyZXMoeyB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLCBmZWF0dXJlczogZGF0YSB9KTtcbiAgICAgICAgICAgIGxheWVycy5hbmNlc3RyYWwuZ2V0U291cmNlKCkuY2xlYXIoKTtcbiAgICAgICAgICAgIGxheWVycy5hbmNlc3RyYWwuZ2V0U291cmNlKCkuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goZSA9PiBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IGZldGNoIGFuY2VzdHJhbCBsYW5kczpcIiwgZSkpO1xuICB9LCBbbWFwSW5zdGFuY2UsIGxheWVycy5hbmNlc3RyYWxdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWFwSW5zdGFuY2UpIHJldHVybjtcbiAgICBtYXBJbnN0YW5jZS5vbignbW92ZWVuZCcsICgpID0+IHtcbiAgICAgIHNldE1hcENlbnRlcihvbC5wcm9qLnRvTG9uTGF0KG1hcEluc3RhbmNlLmdldFZpZXcoKS5nZXRDZW50ZXIoKSkpO1xuICAgICAgaWYgKGxheWVycy5hbmNlc3RyYWwgJiYgbGF5ZXJzLmFuY2VzdHJhbC5nZXRWaXNpYmxlKCkpIHtcbiAgICAgICAgdXBkYXRlQW5jZXN0cmFsTGFuZHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW21hcEluc3RhbmNlLCBsYXllcnMuYW5jZXN0cmFsLCB1cGRhdGVBbmNlc3RyYWxMYW5kc10pO1xuXG4gIC8vIC0tLSBMYXllciBWaXNpYmlsaXR5IENvbnRyb2wgLS0tXG4gIGNvbnN0IHRvZ2dsZUxheWVyVmlzaWJpbGl0eSA9IChsYXllcktleSkgPT4ge1xuICAgIHNldFZpc2libGVMYXllcnMocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdWaXNpYmlsaXR5ID0geyAuLi5wcmV2LCBbbGF5ZXJLZXldOiAhcHJldltsYXllcktleV0gfTtcbiAgICAgIGlmIChsYXllcnNbbGF5ZXJLZXldKSB7XG4gICAgICAgIGxheWVyc1tsYXllcktleV0uc2V0VmlzaWJsZShuZXdWaXNpYmlsaXR5W2xheWVyS2V5XSk7XG4gICAgICAgIC8vIFNwZWNpYWwgY2FzZSB0byBsb2FkIGFuY2VzdHJhbCBkYXRhIGlmIGl0J3MgdHVybmVkIG9uXG4gICAgICAgIGlmIChsYXllcktleSA9PT0gJ2FuY2VzdHJhbCcgJiYgbmV3VmlzaWJpbGl0eVtsYXllcktleV0pIHtcbiAgICAgICAgICB1cGRhdGVBbmNlc3RyYWxMYW5kcygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3VmlzaWJpbGl0eTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0gR2VtaW5pIEFJIEhhbmRsZXIgLS0tXG4gIGNvbnN0IGhhbmRsZUFza0Fib3V0TGFuZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xhbmRIaXN0b3J5TG9hZGluZyh0cnVlKTsgc2V0TGFuZEhpc3RvcnkoXCJcIik7XG4gICAgY29uc3QgW2xvbiwgbGF0XSA9IG1hcENlbnRlcjtcbiAgICBjb25zdCB0ZXJyaXRvcnlOYW1lcyA9IGF3YWl0IGZldGNoTmF0aXZlTGFuZERhdGEobGF0LCBsb24pO1xuICAgIGxldCB0ZXJyaXRvcnlJbmZvID0gdGVycml0b3J5TmFtZXMubGVuZ3RoID4gMCA/IGAgVGhpcyBhcmVhIGlzIHdpdGhpbiBvciBuZWFyIHRoZSBhbmNlc3RyYWwgdGVycml0b3JpZXMgb2YgdGhlICR7dGVycml0b3J5TmFtZXMuam9pbihcIiwgXCIpfS5gIDogXCJcIjtcbiAgICBjb25zdCBwcm9tcHQgPSBgRm9yIHRoZSBnZW9ncmFwaGljIGNvb3JkaW5hdGVzICR7bGF0LnRvRml4ZWQoNCl9LCAke2xvbi50b0ZpeGVkKDQpfSBpbiB0aGUgVVNBLCBwcm92aWRlIGEgYnJpZWYgc3VtbWFyeSBvZiB0aGUgSW5kaWdlbm91cyBoaXN0b3J5IG9mIHRoaXMgc3BlY2lmaWMgYXJlYS4ke3RlcnJpdG9yeUluZm99IE1lbnRpb24gcHJpbWFyeSBoaXN0b3JpY2FsIHRyaWJlcywgc2lnbmlmaWNhbnQgdHJlYXRpZXMgb3IgZXZlbnRzLCBhbmQgYW55IGNvbnRlbXBvcmFyeSByZWNvZ25pemVkIG5hdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGFuZC4gS2VlcCBpdCBjb25jaXNlIGZvciBhIG11c2V1bSBleGhpYml0LmA7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbEdlbWluaUFQSShwcm9tcHQpO1xuICAgIHNldExhbmRIaXN0b3J5KHJlc3VsdCk7IHNldElzTGFuZEhpc3RvcnlMb2FkaW5nKGZhbHNlKTtcbiAgfSwgW21hcENlbnRlcl0pO1xuXG4gIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctc2NyZWVuIGgtc2NyZWVuIGJnLVsjMUExQTFBXSB0ZXh0LWdyYXktMjAwXCI+XG4gICAgICAgIDxkaXYgcmVmPXttYXBDb250YWluZXJSZWZ9IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGxcIiAvPlxuICAgICAgICA8ZGl2IHJlZj17cG9wdXBSZWZ9IC8+XG5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaWRlYmFyT3Blbih0cnVlKX0gY2xhc3NOYW1lPXtgZml4ZWQgdG9wLTQgbGVmdC00IHotWzEwMDFdIHAtMiBiZy1ibGFjay81MCByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktODAwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCAke3NpZGViYXJPcGVuID8gJ3RyYW5zbGF0ZS14LVsyMHJlbV0nIDogJ3RyYW5zbGF0ZS14LTAnfWB9PlxuICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIGQ9XCJNNCA2aDE2TTQgMTJoMTZNNCAxOGgxNlwiPjwvcGF0aD48L3N2Zz5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmaXhlZCB0b3AtMCBsZWZ0LTAgaC1mdWxsIHctODAgYmctYmxhY2svNzAgYmFja2Ryb3AtYmx1ci1tZCBib3JkZXItciBib3JkZXItZ3JheS03MDAgei1bMTAwMF0gcC00IHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCAke3NpZGViYXJPcGVuID8gJ3RyYW5zbGF0ZS14LTAnIDogJy10cmFuc2xhdGUteC1mdWxsJ30gZmxleCBmbGV4LWNvbGB9PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LXRpdGxlIHRleHQtd2hpdGUgbWItNFwiPkV4cGxvcmUgdGhlIE1hcDwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0cmliZS1zZWFyY2hcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS00MDAgbWItMVwiPlNlYXJjaCBGZWRlcmFsbHkgUmVjb2duaXplZCBUcmliZXM8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3NlYXJjaFF1ZXJ5fSBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgcm91bmRlZC1tZCBweS0yIHB4LTMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXllbGxvdy01MDBcIiBwbGFjZWhvbGRlcj1cImUuZy4sIENoZXJva2VlLCBOYXZham8uLi5cIiAvPlxuICAgICAgICAgICAge3NlYXJjaFJlc3VsdHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB6LTIwIHctZnVsbCBiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbWQgbXQtMSBtYXgtaC02MCBvdmVyZmxvdy15LWF1dG9cIj57c2VhcmNoUmVzdWx0cy5tYXAocmVzdWx0ID0+IDxkaXYga2V5PXtyZXN1bHQuaXRlbX0gb25DbGljaz17KCkgPT4geyB6b29tVG9UcmliZShyZXN1bHQuaXRlbSk7IHNldFNlYXJjaFF1ZXJ5KCcnKTsgfX0gY2xhc3NOYW1lPVwicC0yIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktNzAwXCI+e3Jlc3VsdC5pdGVtfTwvZGl2Pil9PC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXRpdGxlIHRleHQtd2hpdGUgbXQtNiBtYi0zXCI+RGF0YSBMYXllcnM8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGN1cnNvci1wb2ludGVyXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e3Zpc2libGVMYXllcnMucmVzZXJ2YXRpb25zfSBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlTGF5ZXJWaXNpYmlsaXR5KCdyZXNlcnZhdGlvbnMnKX0gY2xhc3NOYW1lPVwiaC01IHctNSByb3VuZGVkIGJnLWdyYXktNzAwIGJvcmRlci1ncmF5LTUwMCBjdXN0b20tY2hlY2tib3hcIi8+PHNwYW4+UmVzZXJ2YXRpb25zPC9zcGFuPjwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGN1cnNvci1wb2ludGVyXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e3Zpc2libGVMYXllcnMuYW5jZXN0cmFsfSBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlTGF5ZXJWaXNpYmlsaXR5KCdhbmNlc3RyYWwnKX0gY2xhc3NOYW1lPVwiaC01IHctNSByb3VuZGVkIGJnLWdyYXktNzAwIGJvcmRlci1ncmF5LTUwMCBjdXN0b20tY2hlY2tib3hcIi8+PHNwYW4+QW5jZXN0cmFsIExhbmRzPC9zcGFuPjwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGN1cnNvci1wb2ludGVyXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e3Zpc2libGVMYXllcnMudHJpYmFsTWFya2Vyc30gb25DaGFuZ2U9eygpID0+IHRvZ2dsZUxheWVyVmlzaWJpbGl0eSgndHJpYmFsTWFya2VycycpfSBjbGFzc05hbWU9XCJoLTUgdy01IHJvdW5kZWQgYmctZ3JheS03MDAgYm9yZGVyLWdyYXktNTAwIGN1c3RvbS1jaGVja2JveFwiLz48c3Bhbj5UcmliYWwgTWFya2Vyczwvc3Bhbj48L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtYXV0byBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBc2tBYm91dExhbmR9IGRpc2FibGVkPXtpc0xhbmRIaXN0b3J5TG9hZGluZ30gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtY2VudGVyIHAtMiBtYi0yIGJnLXllbGxvdy02MDAvNTAgaG92ZXI6YmcteWVsbG93LTUwMC81MCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGJ0bi10ZXh0ICR7aXNMYW5kSGlzdG9yeUxvYWRpbmcgPyAnaGlkZGVuJyA6ICcnfWB9PuKcqCBBc2sgQWJvdXQgVGhpcyBMYW5kPC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNwaW5uZXIgJHshaXNMYW5kSGlzdG9yeUxvYWRpbmcgJiYgJ2hpZGRlbid9YH0+PC9kaXY+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxHZW1pbmlSZXNwb25zZURpc3BsYXkgdGl0bGU9XCJMYW5kIEhpc3RvcnlcIiBjb250ZW50PXtsYW5kSGlzdG9yeX0gaXNMb2FkaW5nPXtpc0xhbmRIaXN0b3J5TG9hZGluZ30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPFRyaWJlTW9kYWwgdHJpYmVOYW1lPXtzZWxlY3RlZFRyaWJlfSBvcGVuPXshIXNlbGVjdGVkVHJpYmV9IGhhbmRsZUNsb3NlPXsoKSA9PiBzZXRTZWxlY3RlZFRyaWJlKG51bGwpfSAvPlxuICAgICAgPC9kaXY+XG4gICk7XG59O1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiTWFwIiwiVmlldyIsIk92ZXJsYXkiLCJUaWxlTGF5ZXIiLCJWZWN0b3IiLCJWZWN0b3JMYXllciIsIlZlY3RvclNvdXJjZSIsIlhZWiIsIkdlb0pTT04iLCJTdHlsZSIsIkNpcmNsZSIsIkNpcmNsZVN0eWxlIiwiRmlsbCIsIlN0cm9rZSIsIk5BVElWRV9MQU5EX0FQSV9LRVkiLCJjYWxsR2VtaW5pQVBJIiwicHJvbXB0IiwiYXBpS2V5IiwiYXBpVXJsIiwicGF5bG9hZCIsImNvbnRlbnRzIiwicm9sZSIsInBhcnRzIiwidGV4dCIsImdlbmVyYXRpb25Db25maWciLCJ0ZW1wZXJhdHVyZSIsIm1heE91dHB1dFRva2VucyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsImNhbmRpZGF0ZXMiLCJjb250ZW50IiwiZXJyb3IiLCJjb25zb2xlIiwiZmV0Y2hOYXRpdmVMYW5kRGF0YSIsImxhdCIsImxuZyIsInVybCIsIm5hbWVzIiwiZmVhdHVyZXMiLCJkYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwidCIsInByb3BlcnRpZXMiLCJOYW1lIiwiR2VtaW5pUmVzcG9uc2VEaXNwbGF5IiwidGl0bGUiLCJpc0xvYWRpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJoNCIsIlRyaWJhbFBvcHVwIiwic3RvcnkiLCJzZXRTdG9yeSIsImhpc3RvcnkiLCJzZXRIaXN0b3J5IiwibG9hZGluZ1N0YXRlIiwic2V0TG9hZGluZ1N0YXRlIiwiaGFuZGxlR2VuZXJhdGVTdG9yeSIsInAiLCJuYW1lIiwiaGFuZGxlR2VuZXJhdGVIaXN0b3J5IiwiaDMiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsIk1hcFZpZXciLCJtYXBSZWYiLCJwb3B1cFJlZiIsInBvcHVwUm9vdCIsIm1hcEluc3RhbmNlIiwic2V0TWFwSW5zdGFuY2UiLCJwb3B1cENvbnRlbnQiLCJzZXRQb3B1cENvbnRlbnQiLCJwb3B1cFBvc2l0aW9uIiwic2V0UG9wdXBQb3NpdGlvbiIsInVuZGVmaW5lZCIsInNpZGViYXJPcGVuIiwic2V0U2lkZWJhck9wZW4iLCJtYXBDZW50ZXIiLCJzZXRNYXBDZW50ZXIiLCJsYW5kSGlzdG9yeSIsInNldExhbmRIaXN0b3J5IiwiaXNMYW5kSGlzdG9yeUxvYWRpbmciLCJzZXRJc0xhbmRIaXN0b3J5TG9hZGluZyIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzZWFyY2hSZXN1bHRzIiwic2V0U2VhcmNoUmVzdWx0cyIsInRyaWJlTmFtZXMiLCJzZXRUcmliZU5hbWVzIiwiZnVzZSIsIkZ1c2UiLCJ0aHJlc2hvbGQiLCJsYXllcnMiLCJzZXRMYXllcnMiLCJ2aXNpYmxlTGF5ZXJzIiwic2V0VmlzaWJsZUxheWVycyIsInJlc2VydmF0aW9ucyIsImFuY2VzdHJhbCIsInRyaWJhbE1hcmtlcnMiLCJ0aGVuIiwicmVzIiwiZiIsImZpbHRlciIsIkJvb2xlYW4iLCJzb3J0IiwibGVuZ3RoIiwic2VhcmNoIiwic2xpY2UiLCJ6b29tVG9UcmliZSIsInRyaWJlTmFtZSIsInNvdXJjZSIsImdldFNvdXJjZSIsImZlYXQiLCJnZXRGZWF0dXJlcyIsImZpbmQiLCJnZXQiLCJjb29yZHMiLCJnZXRHZW9tZXRyeSIsImdldENvb3JkaW5hdGVzIiwiZ2V0VmlldyIsImFuaW1hdGUiLCJjZW50ZXIiLCJ6b29tIiwiZHVyYXRpb24iLCJjdXJyZW50IiwiYW5jZXN0cmFsU291cmNlIiwibmV3TGF5ZXJzIiwiZm9ybWF0Iiwic3R5bGUiLCJzdHJva2UiLCJjb2xvciIsIndpZHRoIiwiZmlsbCIsInpJbmRleCIsImxpbmVEYXNoIiwiaW1hZ2UiLCJyYWRpdXMiLCJwb3B1cE92ZXJsYXkiLCJlbGVtZW50IiwiYXV0b1BhbiIsImFuaW1hdGlvbiIsInRhcmdldCIsInZpZXciLCJvdmVybGF5cyIsInNldFRhcmdldCIsIlJlYWN0RE9NIiwiY3JlYXRlUm9vdCIsIm92ZXJsYXkiLCJnZXRPdmVybGF5cyIsImdldEFycmF5IiwiaGFuZGxlTWFwQ2xpY2siLCJlIiwiZm91bmRGZWF0dXJlIiwiZm9yRWFjaEZlYXR1cmVBdFBpeGVsIiwicGl4ZWwiLCJmZWF0dXJlIiwibGF5ZXIiLCJnZXRQcm9wZXJ0aWVzIiwic2V0UG9zaXRpb24iLCJjb29yZGluYXRlIiwib24iLCJ1biIsInJlbmRlciIsInVwZGF0ZUFuY2VzdHJhbExhbmRzIiwiZXh0ZW50IiwiY2FsY3VsYXRlRXh0ZW50IiwiZ2V0U2l6ZSIsIm1pbkxvbiIsIm1pbkxhdCIsIm1heExvbiIsIm1heExhdCIsIm9sIiwicHJvaiIsInRyYW5zZm9ybUV4dGVudCIsImJib3giLCJQcm9taXNlIiwicmVzb2x2ZSIsImZlYXR1cmVQcm9qZWN0aW9uIiwicmVhZEZlYXR1cmVzIiwidHlwZSIsImNsZWFyIiwiYWRkRmVhdHVyZXMiLCJjYXRjaCIsInRvTG9uTGF0IiwiZ2V0Q2VudGVyIiwiZ2V0VmlzaWJsZSIsInRvZ2dsZUxheWVyVmlzaWJpbGl0eSIsImxheWVyS2V5IiwicHJldiIsIm5ld1Zpc2liaWxpdHkiLCJzZXRWaXNpYmxlIiwiaGFuZGxlQXNrQWJvdXRMYW5kIiwibG9uIiwidGVycml0b3J5TmFtZXMiLCJ0ZXJyaXRvcnlJbmZvIiwiam9pbiIsInRvRml4ZWQiLCJyZWYiLCJtYXBDb250YWluZXJSZWYiLCJzdmciLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImgyIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJpdGVtIiwiY2hlY2tlZCIsInNwYW4iLCJUcmliZU1vZGFsIiwic2VsZWN0ZWRUcmliZSIsIm9wZW4iLCJoYW5kbGVDbG9zZSIsInNldFNlbGVjdGVkVHJpYmUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/components/MapView.jsx\n");

/***/ })

};
;